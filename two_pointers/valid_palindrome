// LeetCode_Problem:
// Approach:
// First, check if the input string 's' is a single space. If so, return true.
// Otherwise, initialize an empty string variable to store cleaned characters.
// Use a regular expression 'validRegex' to allow only alphanumeric characters (a–z, A–Z, 0–9).
// Iterate through each character of the given string 's':
// - If the current character matches the regex, convert it to lowercase and append it to the new string.
// Initialize two pointers: one at the start and one at the end of the cleaned string.
// Run a while loop with the two pointers:
// - Compare the characters at both pointers.
// - If they are not equal, return false.
// - If they are equal, move the pointers inward.
// If all characters match correctly, return true, indicating that the string is a palindrome.
//
// Time Complexity: O(N)
// - O(N) to iterate through the string and filter out non-alphanumeric characters.
// - O(N/2) to check whether the cleaned string is a palindrome.
// Overall Time Complexity: O(N)
//
// Note: The regex used to test alphanumeric characters runs in constant time O(1) per character,
// because it only matches a single character against a fixed pattern.

var isPalindrome = function(s) {
    if (s === " ") {
        return true;
    }

    let string = "";
    let validRegex = /[a-zA-Z0-9]/;

    for (let i = 0; i < s.length; i++) {
        if (validRegex.test(s[i])) {
            string += s[i].toLowerCase();
        }
    }

    let i = 0, j = string.length - 1;
    while (i < j) {
        if (string[i] !== string[j]) {
            return false;
        }
        i++;
        j--;
    }

    return true;
};

// Alternate approach (without regex):
// This approach also filters alphanumeric characters manually using character code checks.
// The time complexity is still O(N) overall.

var isPalindrome = function(s) {
    let str = "";

    for (let i = 0; i < s.length; i++) {
        let c = s[i];
        if (
            (c >= '0' && c <= '9') ||
            (c >= 'a' && c <= 'z') ||
            (c >= 'A' && c <= 'Z')
        ) {
            str += c.toLowerCase();
        }
    }

    let start = 0, end = str.length - 1;
    while (start < end) {
        if (str[start] !== str[end]) {
            return false;
        }
        start++;
        end--;
    }

    return true;
};


var isPalindrome = function(s) {
    if(s === " "){
        return true;
    }

    let string = "";
    let validRegex = /[a-zA-Z0-9]/;
    for(let i = 0; i < s.length; i++){
        if(validRegex.test(s[i])){
            string+= s[i].toLowerCase();
        }
    }

    let i = 0, j = string.length-1;
    while(i < j){
        if(string[i] !== string[j]){
            return false;
        }else{
            i++;
            j--;
        }
    }

return true;
};

// Also we can do like this 
// the time complexity of the below code is again O(N).
var isPalindrome = function (s) {
    let str = "";
    s = s.split('');
    for (let i = 0; i < s.length; i++) {
        if ((s[i] >= '0' && s[i] <= '9') || (s[i] >= 'a' && s[i] <= 'z') || (s[i] >= 'A' && s[i] <= 'Z')) {
            str += s[i].toLowerCase();
        } else {
            continue;
        }
    }

    let start = 0, end = str.length - 1;
    while (start < end) {
        if (str[start] !== str[end]) {
            return false;
        } else {
            start++, end--;
        }
    }

    return true;
};