// Leetcode Problem:
// appraoch:- Use DFS to traverse the tree and collect distances from each node to its leaf nodes.
 //  If a node is a leaf i.e left and right child are null, return an array with a single element 0, 
 // representing the distance from the leaf to  the node itself.
 // For each non-leaf node, collect distances from its left and right subtrees.
 // For each pair of distances from the left and right subtrees, check if their sum (plus 2, for 
 // the edges connecting to the current node) is less than or equal to the given distance. 
 // If so, increment the count of good leaf node pairs.
 // Combine the distances from the left and right subtrees, incrementing each by 1 to account 
 // for the edge connecting to the current node.
//  Recursively apply the above steps to traverse the entire tree, ensuring all pairs of leaf nodes are considered.
// TC: O(N+d^2), since the DFS traversal visits each node exactly once, making the time complexity O(N), 
// where N is the number of nodes in the tree.
// For each node, the distances from the left and right subtrees are compared pairwise. In the worst case, if there are
// d distances, comparing them takes O(d^2) time AND SC: O(H), where h is the height of the tree also
// each node stores distances to its leaf nodes which could take O(N) space at each node.
// SO, overall SC:O(H)+O(N) => O(N).

var countPairs = function(root, distance) {
    if (root === null) return 0;

    let goodleaf = 0;

    const dfs = (node) => {
        if (node === null) return [];
        if (node.left === null && node.right === null) return [0];

        const leftDistances = dfs(node.left);
        const rightDistances = dfs(node.right);

        for (const l of leftDistances) {
            for (const r of rightDistances) {
                if (l + r + 2 <= distance) {
                    goodleaf ++;
                }
            }
        }

        const distances = [];
        for (const l of leftDistances) distances.push(l + 1);
        for (const r of rightDistances) distances.push(r + 1);

        return distances;
    };

    dfs(root);
    return goodleaf ;
};